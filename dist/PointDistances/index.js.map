{"version":3,"file":"index.js","names":["React","Fragment","styled","Svg","pointerEvents","position","zIndex","left","top","width","height","fill","vectorEffect","strokeWidth","opacity","stroke","strokeDasharray","animationDuration","animationTimingFunction","animationIterationCount","animationPlayState","PointDistances","_ref","projectRegionBox","regions","pointDistancePrecision","realSize","createElement","filter","r1","type","flatMap","i1","r2","i2","map","i3","pr1","pr2","prm","x","w","y","h","displayDistance","unitName","Math","sqrt","pow","toFixed","key","d","concat"],"sources":["../../src/PointDistances/index.js"],"sourcesContent":["import React, { Fragment } from 'react'\nimport { styled } from '@material-ui/core/styles'\nvar Svg = styled('svg')({\n\tpointerEvents: 'none',\n\tposition: 'absolute',\n\tzIndex: 1,\n\tleft: 0,\n\ttop: 0,\n\twidth: '100%',\n\theight: '100%',\n\t'& text': {\n\t\tfill: '#fff'\n\t},\n\t'& path': {\n\t\tvectorEffect: 'non-scaling-stroke',\n\t\tstrokeWidth: 2,\n\t\topacity: 0.5,\n\t\tstroke: '#FFF',\n\t\tfill: 'none',\n\t\tstrokeDasharray: 5,\n\t\tanimationDuration: '4s',\n\t\tanimationTimingFunction: 'linear',\n\t\tanimationIterationCount: 'infinite',\n\t\tanimationPlayState: 'running'\n\t}\n})\nexport var PointDistances = function PointDistances(_ref) {\n\tvar projectRegionBox = _ref.projectRegionBox,\n\t\tregions = _ref.regions,\n\t\tpointDistancePrecision = _ref.pointDistancePrecision,\n\t\trealSize = _ref.realSize\n\treturn React.createElement(Svg, null, regions.filter(function (r1) {\n\t\treturn r1.type === 'point'\n\t}).flatMap(function (r1, i1) {\n\t\treturn regions.filter(function (r2, i2) {\n\t\t\treturn i2 > i1\n\t\t}).filter(function (r2) {\n\t\t\treturn r2.type === 'point'\n\t\t}).map(function (r2, i3) {\n\t\t\tvar pr1 = projectRegionBox(r1)\n\t\t\tvar pr2 = projectRegionBox(r2)\n\t\t\tvar prm = {\n\t\t\t\tx: (pr1.x + pr1.w / 2 + pr2.x + pr2.w / 2) / 2,\n\t\t\t\ty: (pr1.y + pr1.h / 2 + pr2.y + pr2.h / 2) / 2\n\t\t\t}\n\t\t\tvar displayDistance\n\n\t\t\tif (realSize) {\n\t\t\t\tvar w = realSize.w,\n\t\t\t\t\th = realSize.h,\n\t\t\t\t\tunitName = realSize.unitName\n\t\t\t\tdisplayDistance = Math.sqrt(Math.pow(r1.x * w - r2.x * w, 2) + Math.pow(r1.y * h - r2.y * h, 2)).toFixed(pointDistancePrecision) + unitName\n\t\t\t} else {\n\t\t\t\tdisplayDistance = (Math.sqrt(Math.pow(r1.x - r2.x, 2) + Math.pow(r1.y - r2.y, 2)) * 100).toFixed(pointDistancePrecision) + '%'\n\t\t\t}\n\n\t\t\treturn React.createElement(Fragment, { key: i3 }, React.createElement('path', {\n\t\t\t\td: 'M'.concat(pr1.x + pr1.w / 2, ',').concat(pr1.y + pr1.h / 2, ' L').concat(pr2.x + pr2.w / 2, ',').concat(pr2.y + pr2.h / 2)\n\t\t\t}), React.createElement('text', {\n\t\t\t\tx: prm.x,\n\t\t\t\ty: prm.y\n\t\t\t}, displayDistance))\n\t\t})\n\t}))\n}\nexport default PointDistances"],"mappings":"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"}