{"version":3,"file":"index.js","names":["_slicedToArray","React","useMemo","useState","useEffect","styled","range","colors","useMeasure","useEventCallback","useRafState","getTimeString","Container","position","display","flexGrow","minWidth","height","marginLeft","marginRight","Tick","width","backgroundColor","grey","bottom","TickText","userSelect","fontSize","color","fontWeight","PositionCursor","placeItems","borderRadius","blue","fontVariantNumeric","left","content","borderTop","concat","borderLeft","borderRight","KeyframeMarker","cursor","opacity","borderTopLeftRadius","borderTopRightRadius","red","min","displayIntervalPairs","getMajorInterval","duration","_i","_displayIntervalPairs","length","_ref3","_ref2","minor","major","_ref4","_ref4$currentTime","currentTime","onChangeCurrentTime","keyframes","_useMeasure","_useMeasure2","ref","bounds","_useState","_useState2","instantCurrentTime","changeInstantCurrentTime","_useRafState","_useRafState2","draggingTime","changeDraggingTime","keyframeTimes","Object","keys","map","t","parseInt","filter","isNaN","sort","a","b","_useMemo","_useMemo2","minorInterval","majorInterval","onMouseMove","e","px","clientX","Math","max","floor","onMouseUp","newTime","createElement","Fragment","key","style","Number","isInteger","kt","onClick","onMouseDown"],"sources":["../../src/KeyframeTimeline/index.js"],"sourcesContent":["import _slicedToArray from '@babel/runtime/helpers/esm/slicedToArray'\nimport React, { useMemo, useState, useEffect } from 'react'\nimport { styled } from '@material-ui/core/styles'\nimport range from 'lodash/range'\nimport * as colors from '@material-ui/core/colors'\nimport useMeasure from 'react-use-measure'\nimport useEventCallback from 'use-event-callback'\nimport { useRafState } from 'react-use'\nimport getTimeString from './get-time-string'\nvar Container = styled('div')({\n\tposition: 'relative',\n\tdisplay: 'flex',\n\tflexGrow: 1,\n\tminWidth: 240,\n\theight: 64,\n\tmarginLeft: 16,\n\tmarginRight: 16\n})\nvar Tick = styled('div')({\n\tposition: 'absolute',\n\twidth: 2,\n\tmarginLeft: -1,\n\theight: '100%',\n\tbackgroundColor: colors.grey[300],\n\tbottom: 0\n})\nvar TickText = styled('div')({\n\tposition: 'absolute',\n\tuserSelect: 'none',\n\tfontSize: 10,\n\tcolor: colors.grey[600],\n\tfontWeight: 'bold',\n\tbottom: 0\n})\nvar PositionCursor = styled('div')({\n\tposition: 'absolute',\n\tbottom: 'calc(50% + 6px)',\n\tfontSize: 10,\n\tfontWeight: 'bold',\n\tcolor: '#fff',\n\tdisplay: 'grid',\n\tplaceItems: 'center',\n\twidth: 48,\n\tmarginLeft: -24,\n\tborderRadius: 2,\n\theight: 24,\n\tbackgroundColor: colors.blue[500],\n\tuserSelect: 'none',\n\tfontVariantNumeric: 'tabular-nums',\n\t'&::before': {\n\t\tposition: 'absolute',\n\t\tbottom: -6,\n\t\tleft: 24 - 8,\n\t\tcontent: '\"\"',\n\t\twidth: 0,\n\t\theight: 0,\n\t\tborderTop: '8px solid '.concat(colors.blue[500]),\n\t\tborderLeft: '8px solid transparent',\n\t\tborderRight: '8px solid transparent'\n\t}\n})\nvar KeyframeMarker = styled('div')({\n\tposition: 'absolute',\n\tbottom: 8,\n\tcursor: 'pointer',\n\topacity: 0.75,\n\tfontSize: 10,\n\tfontWeight: 'bold',\n\tcolor: '#fff',\n\tdisplay: 'grid',\n\tplaceItems: 'center',\n\twidth: 16,\n\tmarginLeft: 0,\n\tborderTopLeftRadius: 2,\n\tborderTopRightRadius: 2,\n\theight: 12,\n\tbackgroundColor: colors.red[500],\n\tuserSelect: 'none',\n\tfontVariantNumeric: 'tabular-nums',\n\t'&::before': {\n\t\tposition: 'absolute',\n\t\tbottom: -8,\n\t\tleft: 0,\n\t\tcontent: '\"\"',\n\t\twidth: 0,\n\t\theight: 0,\n\t\tborderTop: '8px solid '.concat(colors.red[500]),\n\t\tborderLeft: '8px solid transparent',\n\t\tborderRight: '8px solid transparent'\n\t}\n})\nvar min = 60000\nvar displayIntervalPairs = [[50, 250], [100, 500], [250, 1000], [1000, 5000], [5000, 30000], [10000, min], [30000, min * 2], [min, min * 5], [min * 5, min * 30], [min * 10, min * 60], [min * 30, min * 60 * 3], [min * 60, min * 60 * 5]]\n\nvar getMajorInterval = function getMajorInterval(duration) {\n\tfor (var _i = 0, _displayIntervalPairs = displayIntervalPairs; _i < _displayIntervalPairs.length; _i++) {\n\t\tvar _ref3 = _displayIntervalPairs[_i]\n\n\t\tvar _ref2 = _slicedToArray(_ref3, 2)\n\n\t\tvar minor = _ref2[0]\n\t\tvar major = _ref2[1]\n\n\t\tif (duration / major < 6 && duration / major > 2) {\n\t\t\treturn [minor, major]\n\t\t}\n\t}\n\n\treturn [duration / 4, duration]\n}\n\nexport default (function (_ref4) {\n\tvar _ref4$currentTime = _ref4.currentTime,\n\t\tcurrentTime = _ref4$currentTime === void 0 ? 0 : _ref4$currentTime,\n\t\tduration = _ref4.duration,\n\t\tonChangeCurrentTime = _ref4.onChangeCurrentTime,\n\t\tkeyframes = _ref4.keyframes\n\n\tvar _useMeasure = useMeasure(),\n\t\t_useMeasure2 = _slicedToArray(_useMeasure, 2),\n\t\tref = _useMeasure2[0],\n\t\tbounds = _useMeasure2[1]\n\n\tvar _useState = useState(currentTime),\n\t\t_useState2 = _slicedToArray(_useState, 2),\n\t\tinstantCurrentTime = _useState2[0],\n\t\tchangeInstantCurrentTime = _useState2[1]\n\n\tvar _useRafState = useRafState(false),\n\t\t_useRafState2 = _slicedToArray(_useRafState, 2),\n\t\tdraggingTime = _useRafState2[0],\n\t\tchangeDraggingTime = _useRafState2[1]\n\n\tvar keyframeTimes = Object.keys(keyframes || {}).map(function (t) {\n\t\treturn parseInt(t)\n\t}).filter(function (t) {\n\t\treturn !isNaN(t)\n\t}).sort(function (a, b) {\n\t\treturn a - b\n\t})\n\tuseEffect(function () {\n\t\tif (currentTime !== instantCurrentTime) {\n\t\t\tchangeInstantCurrentTime(currentTime)\n\t\t}\n\t}, [currentTime])\n\n\tvar _useMemo = useMemo(function () {\n\t\t\treturn getMajorInterval(duration)\n\t\t}, [duration]),\n\t\t_useMemo2 = _slicedToArray(_useMemo, 2),\n\t\tminorInterval = _useMemo2[0],\n\t\tmajorInterval = _useMemo2[1]\n\n\tvar onMouseMove = useEventCallback(function (e) {\n\t\tif (draggingTime) {\n\t\t\tvar px = (e.clientX - bounds.left) / bounds.width\n\t\t\tchangeInstantCurrentTime(Math.min(duration, Math.max(0, Math.floor(px * duration))))\n\t\t}\n\t})\n\tvar onMouseUp = useEventCallback(function (e) {\n\t\tchangeDraggingTime(false)\n\t\tvar px = (e.clientX - bounds.left) / bounds.width\n\t\tvar newTime = Math.min(duration, Math.max(0, Math.floor(px * duration)))\n\t\tchangeInstantCurrentTime(newTime)\n\t\tonChangeCurrentTime(newTime)\n\t}) // TODO skeleton\n\n\tif (!duration) return null\n\treturn React.createElement(Container, {\n\t\tonMouseMove: onMouseMove,\n\t\tonMouseUp: onMouseUp,\n\t\tref: ref\n\t}, range(0, duration, majorInterval).map(function (a) {\n\t\treturn React.createElement(React.Fragment, null, React.createElement(Tick, {\n\t\t\tkey: a,\n\t\t\tstyle: {\n\t\t\t\tleft: a / duration * bounds.width,\n\t\t\t\theight: '50%'\n\t\t\t}\n\t\t}), React.createElement(TickText, {\n\t\t\tstyle: {\n\t\t\t\tleft: a / duration * bounds.width + 8,\n\t\t\t\tbottom: 'calc(50% - 12px)'\n\t\t\t}\n\t\t}, getTimeString(a)))\n\t}), range(0, duration, minorInterval).filter(function (a) {\n\t\treturn !Number.isInteger(a / majorInterval)\n\t}).map(function (a) {\n\t\treturn React.createElement(Tick, {\n\t\t\tkey: a,\n\t\t\tstyle: {\n\t\t\t\tleft: a / duration * bounds.width,\n\t\t\t\theight: '25%'\n\t\t\t}\n\t\t})\n\t}), keyframeTimes.map(function (kt) {\n\t\treturn React.createElement(KeyframeMarker, {\n\t\t\tonClick: function onClick() {\n\t\t\t\treturn onChangeCurrentTime(kt)\n\t\t\t},\n\t\t\tkey: kt,\n\t\t\tstyle: {\n\t\t\t\tleft: kt / duration * bounds.width\n\t\t\t}\n\t\t})\n\t}), React.createElement(PositionCursor, {\n\t\tonMouseDown: function onMouseDown(e) {\n\t\t\treturn changeDraggingTime(true)\n\t\t},\n\t\tstyle: {\n\t\t\tcursor: draggingTime ? 'grabbing' : 'grab',\n\t\t\tleft: instantCurrentTime / duration * bounds.width\n\t\t}\n\t}, getTimeString(instantCurrentTime)))\n})"],"mappings":"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"}