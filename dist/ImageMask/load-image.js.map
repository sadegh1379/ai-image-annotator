{"version":3,"file":"load-image.js","names":["loadImage","imageSrc","image","Array","from","document","getElementsByTagName","find","img","src","canvas","createElement","ctx","getContext","Image","crossOrigin","Promise","resolve","reject","onload","width","naturalWidth","height","naturalHeight","drawImage","imageData","getImageData"],"sources":["../../src/ImageMask/load-image.js"],"sourcesContent":["export var loadImage = function loadImage(imageSrc) {\n  // Check if image is already loaded in a page element\n\tvar image = Array.from(document.getElementsByTagName('img')).find(function (img) {\n\t\treturn img.src === imageSrc\n\t})\n\tvar canvas = document.createElement('canvas')\n\tvar ctx = canvas.getContext('2d')\n\n\tif (!image) {\n\t\timage = new Image()\n\t\timage.crossOrigin = 'anonymous'\n\t\timage.src = imageSrc\n\t}\n\n\treturn new Promise(function (resolve, reject) {\n\t\timage.onload = function () {\n\t\t\tcanvas.width = image.naturalWidth\n\t\t\tcanvas.height = image.naturalHeight\n\t\t\tctx.drawImage(image, 0, 0)\n\t\t\tvar imageData = ctx.getImageData(0, 0, image.naturalWidth, image.naturalHeight)\n\t\t\tresolve(imageData)\n\t\t}\n\t})\n}\nexport default loadImage"],"mappings":"AAAA,OAAO,IAAIA,SAAS,GAAG,SAASA,SAAT,CAAmBC,QAAnB,EAA6B;EAClD;EACD,IAAIC,KAAK,GAAGC,KAAK,CAACC,IAAN,CAAWC,QAAQ,CAACC,oBAAT,CAA8B,KAA9B,CAAX,EAAiDC,IAAjD,CAAsD,UAAUC,GAAV,EAAe;IAChF,OAAOA,GAAG,CAACC,GAAJ,KAAYR,QAAnB;EACA,CAFW,CAAZ;EAGA,IAAIS,MAAM,GAAGL,QAAQ,CAACM,aAAT,CAAuB,QAAvB,CAAb;EACA,IAAIC,GAAG,GAAGF,MAAM,CAACG,UAAP,CAAkB,IAAlB,CAAV;;EAEA,IAAI,CAACX,KAAL,EAAY;IACXA,KAAK,GAAG,IAAIY,KAAJ,EAAR;IACAZ,KAAK,CAACa,WAAN,GAAoB,WAApB;IACAb,KAAK,CAACO,GAAN,GAAYR,QAAZ;EACA;;EAED,OAAO,IAAIe,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;IAC7ChB,KAAK,CAACiB,MAAN,GAAe,YAAY;MAC1BT,MAAM,CAACU,KAAP,GAAelB,KAAK,CAACmB,YAArB;MACAX,MAAM,CAACY,MAAP,GAAgBpB,KAAK,CAACqB,aAAtB;MACAX,GAAG,CAACY,SAAJ,CAActB,KAAd,EAAqB,CAArB,EAAwB,CAAxB;MACA,IAAIuB,SAAS,GAAGb,GAAG,CAACc,YAAJ,CAAiB,CAAjB,EAAoB,CAApB,EAAuBxB,KAAK,CAACmB,YAA7B,EAA2CnB,KAAK,CAACqB,aAAjD,CAAhB;MACAN,OAAO,CAACQ,SAAD,CAAP;IACA,CAND;EAOA,CARM,CAAP;AASA,CAvBM;AAwBP,eAAezB,SAAf"}