{"version":3,"file":"index.js","names":["React","useMemo","HotKeys","defaultHotkeys","id","description","binding","defaultKeyMap","_i","_defaultHotkeys","length","_ref4","useDispatchHotkeyHandlers","_ref2","dispatch","handlers","select_tool","type","selectedTool","zoom_tool","create_point","create_bounding_box","pan_tool","create_polygon","create_pixel","save_and_previous_sample","buttonName","save_and_next_sample","save_and_exit_sample","delete_region","undo","_ref3","children","createElement","allowChanges"],"sources":["../../src/ShortcutsManager/index.js"],"sourcesContent":["import React, { useMemo } from 'react'\nimport { HotKeys } from 'react-hotkeys'\nexport var defaultHotkeys = [{\n\tid: 'select_tool',\n\tdescription: 'Switch to the Select Tool',\n\tbinding: 'escape'\n}, {\n\tid: 'zoom_tool',\n\tdescription: 'Select the Zoom Tool',\n\tbinding: 'z'\n}, {\n\tid: 'create_point',\n\tdescription: 'Create a point'\n}, {\n\tid: 'create_bounding_box',\n\tdescription: 'Create a bounding box',\n\tbinding: 'b'\n}, {\n\tid: 'pan_tool',\n\tdescription: 'Select the Pan Tool',\n\tbinding: 'm'\n}, {\n\tid: 'create_polygon',\n\tdescription: 'Create a Polygon',\n\tbinding: 'p'\n}, {\n\tid: 'create_pixel',\n\tdescription: 'Create a Pixel Mask'\n}, {\n\tid: 'save_and_previous_sample',\n\tdescription: 'Save and go to previous sample',\n\tbinding: 'ArrowLeft'\n}, {\n\tid: 'save_and_next_sample',\n\tdescription: 'Save and go to next sample',\n\tbinding: 'ArrowRight'\n}, {\n\tid: 'save_and_exit_sample',\n\tdescription: 'Save and exit current sample'\n}, {\n\tid: 'exit_sample',\n\tdescription: 'Exit sample without saving'\n}, {\n\tid: 'delete_region',\n\tdescription: 'Delete selected region',\n\tbinding: 'd'\n}, {\n\tid: 'undo',\n\tdescription: 'Undo latest change',\n\tbinding: 'Ctrl+z'\n}]\nexport var defaultKeyMap = {}\n\nfor (var _i = 0, _defaultHotkeys = defaultHotkeys; _i < _defaultHotkeys.length; _i++) {\n\tvar _ref4 = _defaultHotkeys[_i]\n\tvar id = _ref4.id\n\tvar binding = _ref4.binding\n\tdefaultKeyMap[id] = binding\n}\n\nexport var useDispatchHotkeyHandlers = function useDispatchHotkeyHandlers(_ref2) {\n\tvar dispatch = _ref2.dispatch\n\tvar handlers = useMemo(function () {\n\t\treturn {\n\t\t\tselect_tool: function select_tool() {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'SELECT_TOOL',\n\t\t\t\t\tselectedTool: 'select'\n\t\t\t\t})\n\t\t\t},\n\t\t\tzoom_tool: function zoom_tool() {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'SELECT_TOOL',\n\t\t\t\t\tselectedTool: 'zoom'\n\t\t\t\t})\n\t\t\t},\n\t\t\tcreate_point: function create_point() {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'SELECT_TOOL',\n\t\t\t\t\tselectedTool: 'create-point'\n\t\t\t\t})\n\t\t\t},\n\t\t\tcreate_bounding_box: function create_bounding_box() {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'SELECT_TOOL',\n\t\t\t\t\tselectedTool: 'create-box'\n\t\t\t\t})\n\t\t\t},\n\t\t\tpan_tool: function pan_tool() {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'SELECT_TOOL',\n\t\t\t\t\tselectedTool: 'pan'\n\t\t\t\t})\n\t\t\t},\n\t\t\tcreate_polygon: function create_polygon() {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'SELECT_TOOL',\n\t\t\t\t\tselectedTool: 'create-polygon'\n\t\t\t\t})\n\t\t\t},\n\t\t\tcreate_pixel: function create_pixel() {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'SELECT_TOOL',\n\t\t\t\t\tselectedTool: 'create-pixel'\n\t\t\t\t})\n\t\t\t},\n\t\t\tsave_and_previous_sample: function save_and_previous_sample() {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'HEADER_BUTTON_CLICKED',\n\t\t\t\t\tbuttonName: 'Prev'\n\t\t\t\t})\n\t\t\t},\n\t\t\tsave_and_next_sample: function save_and_next_sample() {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'HEADER_BUTTON_CLICKED',\n\t\t\t\t\tbuttonName: 'Next'\n\t\t\t\t})\n\t\t\t},\n\t\t\tsave_and_exit_sample: function save_and_exit_sample() {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'HEADER_BUTTON_CLICKED',\n\t\t\t\t\tbuttonName: 'Save'\n\t\t\t\t})\n\t\t\t},\n\t\t\tdelete_region: function delete_region() {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'DELETE_SELECTED_REGION'\n\t\t\t\t})\n\t\t\t},\n\t\t\tundo: function undo() {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'RESTORE_HISTORY'\n\t\t\t\t})\n\t\t\t} // TODO\n      // exit_sample: () => {\n      //   dispatch({\n      //     type: \"\",\n      //   })\n      // }\n\n\t\t}\n\t}, [dispatch])\n\treturn handlers\n}\nexport default (function (_ref3) {\n\tvar children = _ref3.children,\n\t\tdispatch = _ref3.dispatch\n\tvar handlers = useDispatchHotkeyHandlers({\n\t\tdispatch: dispatch\n\t})\n\treturn React.createElement(HotKeys, {\n\t\tallowChanges: true,\n\t\thandlers: handlers\n\t}, children)\n})"],"mappings":"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"}