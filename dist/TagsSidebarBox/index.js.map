{"version":3,"file":"index.js","names":["React","useMemo","memo","SidebarBoxContainer","makeStyles","StyleIcon","grey","Select","useEventCallback","asMutable","useStyles","emptyArr","noop","TagsSidebarBox","_ref","currentImage","_ref$imageClsList","imageClsList","_ref$imageTagList","imageTagList","_ref$onChangeImage","onChangeImage","_ref2","_ref2$tags","tags","_ref2$cls","cls","onChangeClassification","o","value","onChangeTags","map","a","selectValue","label","memoImgClsList","c","memoImgTagList","memoCurrentTags","r","createElement","title","expandedByDefault","noScroll","icon","style","color","length","padding","placeholder","onChange","options","paddingTop","isMulti","prevProps","nextProps"],"sources":["../../src/TagsSidebarBox/index.js"],"sourcesContent":["import React, { useMemo, memo } from 'react'\nimport SidebarBoxContainer from '../SidebarBoxContainer'\nimport { makeStyles } from '@material-ui/core/styles'\nimport StyleIcon from '@material-ui/icons/Style'\nimport { grey } from '@material-ui/core/colors'\nimport Select from 'react-select'\nimport useEventCallback from 'use-event-callback'\nimport { asMutable } from 'seamless-immutable'\nvar useStyles = makeStyles({})\nvar emptyArr = []\n\nvar noop = function noop() {\n\treturn null\n}\n\nexport var TagsSidebarBox = function TagsSidebarBox(_ref) {\n\tvar currentImage = _ref.currentImage,\n\t\t_ref$imageClsList = _ref.imageClsList,\n\t\timageClsList = _ref$imageClsList === void 0 ? emptyArr : _ref$imageClsList,\n\t\t_ref$imageTagList = _ref.imageTagList,\n\t\timageTagList = _ref$imageTagList === void 0 ? emptyArr : _ref$imageTagList,\n\t\t_ref$onChangeImage = _ref.onChangeImage,\n\t\tonChangeImage = _ref$onChangeImage === void 0 ? noop : _ref$onChangeImage\n\n\tvar _ref2 = currentImage || {},\n\t\t_ref2$tags = _ref2.tags,\n\t\ttags = _ref2$tags === void 0 ? [] : _ref2$tags,\n\t\t_ref2$cls = _ref2.cls,\n\t\tcls = _ref2$cls === void 0 ? null : _ref2$cls\n\n\tvar onChangeClassification = useEventCallback(function (o) {\n\t\treturn onChangeImage({\n\t\t\tcls: o.value\n\t\t})\n\t})\n\tvar onChangeTags = useEventCallback(function (o) {\n\t\treturn onChangeImage({\n\t\t\ttags: o.map(function (a) {\n\t\t\t\treturn a.value\n\t\t\t})\n\t\t})\n\t})\n\tvar selectValue = useMemo(function () {\n\t\treturn cls ? {\n\t\t\tvalue: cls,\n\t\t\tlabel: cls\n\t\t} : null\n\t}, [cls])\n\tvar memoImgClsList = useMemo(function () {\n\t\treturn asMutable(imageClsList.map(function (c) {\n\t\t\treturn {\n\t\t\t\tvalue: c,\n\t\t\t\tlabel: c\n\t\t\t}\n\t\t}))\n\t}, [imageClsList])\n\tvar memoImgTagList = useMemo(function () {\n\t\treturn asMutable(imageTagList.map(function (c) {\n\t\t\treturn {\n\t\t\t\tvalue: c,\n\t\t\t\tlabel: c\n\t\t\t}\n\t\t}))\n\t}, [imageTagList])\n\tvar memoCurrentTags = useMemo(function () {\n\t\treturn tags.map(function (r) {\n\t\t\treturn {\n\t\t\t\tvalue: r,\n\t\t\t\tlabel: r\n\t\t\t}\n\t\t})\n\t}, [tags])\n\tif (!currentImage) return null\n\treturn React.createElement(SidebarBoxContainer, {\n\t\ttitle: 'Image Tags',\n\t\texpandedByDefault: true,\n\t\tnoScroll: true,\n\t\ticon: React.createElement(StyleIcon, {\n\t\t\tstyle: {\n\t\t\t\tcolor: grey[700]\n\t\t\t}\n\t\t})\n\t}, imageClsList.length > 0 && React.createElement('div', {\n\t\tstyle: {\n\t\t\tpadding: 8\n\t\t}\n\t}, React.createElement(Select, {\n\t\tplaceholder: 'Image Classification',\n\t\tonChange: onChangeClassification,\n\t\tvalue: selectValue,\n\t\toptions: memoImgClsList\n\t})), imageTagList.length > 0 && React.createElement('div', {\n\t\tstyle: {\n\t\t\tpadding: 8,\n\t\t\tpaddingTop: 0\n\t\t}\n\t}, React.createElement(Select, {\n\t\tisMulti: true,\n\t\tplaceholder: 'Image Tags',\n\t\tonChange: onChangeTags,\n\t\tvalue: memoCurrentTags,\n\t\toptions: memoImgTagList\n\t})))\n}\nexport default memo(TagsSidebarBox, function (prevProps, nextProps) {\n\treturn prevProps.currentImage.cls === nextProps.currentImage.cls && prevProps.currentImage.tags === nextProps.currentImage.tags && prevProps.imageClsList === nextProps.imageClsList && prevProps.imageTagList === nextProps.imageTagList\n})"],"mappings":"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"}