{"version":3,"file":"index.js","names":["React","useState","memo","useCallback","Paper","makeStyles","ExpandIcon","IconButton","Collapse","grey","classnames","useEventCallback","Typography","useIconDictionary","ResizePanel","useStyles","theme","container","borderBottom","borderTop","header","display","flexDirection","alignItems","padding","paddingLeft","paddingRight","color","justifyContent","width","height","title","fontSize","flexGrow","fontWeight","expandButton","transition","transform","expandedContent","maxHeight","overflowY","overflow","resizeHandler","backgroundColor","border","cursor","borderRadius","background","zIndex","fontFamily","textAlign","lineHeight","marginTop","letterSpacing","textShadow","content","getExpandedFromLocalStorage","JSON","parse","window","localStorage","e","setExpandedInLocalStorage","expanded","stringify","SidebarBox","icon","subTitle","children","noScroll","expandedByDefault","classes","changeExpandedState","undefined","changeExpanded","toggleExpanded","customIconMapping","TitleIcon","toLowerCase","titleIcon","prev","next"],"sources":["../../../src/Material/SidebarBox/index.js"],"sourcesContent":["// @flow\n\nimport React, { useState, memo, useCallback } from 'react'\nimport Paper from '@mui/material/Paper'\nimport { makeStyles } from '@material-ui/core'\nimport ExpandIcon from '@mui/icons-material/ExpandMore'\nimport IconButton from '@mui/material/IconButton'\nimport Collapse from '@mui/material/Collapse'\nimport { grey } from '@mui/material/colors'\nimport classnames from 'classnames'\nimport useEventCallback from 'use-event-callback'\nimport Typography from '@mui/material/Typography'\nimport { useIconDictionary } from '../icon-dictionary.js'\nimport ResizePanel from '@seveibar/react-resize-panel'\n\nconst useStyles = makeStyles((theme) => ({\n\tcontainer: {\n\t\tborderBottom: '2px solid #535353',\n\t\t'&:first-child': { borderTop: '1px solid #535353' },\n\t},\n\theader: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\talignItems: 'center',\n\t\tpadding: 4,\n\t\tpaddingLeft: 16,\n\t\tpaddingRight: 12,\n\t\t'& .iconContainer': {\n\t\t\tcolor: '#fff',\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'center',\n\t\t\t'& .MuiSvgIcon-root': {\n\t\t\t\twidth: 16,\n\t\t\t\theight: 16,\n\t\t\t},\n\t\t},\n\t},\n\ttitle: {\n\t\tfontSize: 11,\n\t\tflexGrow: 1,\n\t\tfontWeight: 800,\n\t\tpaddingLeft: 8,\n\t\tcolor: '#fff',\n\t\t'& span': {\n\t\t\tcolor: '#fff',\n\t\t\tfontSize: 11,\n\t\t},\n\t},\n\texpandButton: {\n\t\tpadding: 0,\n\t\twidth: 30,\n\t\theight: 30,\n\t\tcolor: '#fff',\n\t\t'& .icon': {\n\t\t\twidth: 20,\n\t\t\theight: 20,\n\t\t\ttransition: '500ms transform',\n\t\t\tcolor: '#fff',\n\t\t\t'&.expanded': {\n\t\t\t\ttransform: 'rotate(180deg)',\n\t\t\t},\n\t\t},\n\t},\n\texpandedContent: {\n\t\tmaxHeight: 300,\n\t\toverflowY: 'auto',\n\t\t'&.noScroll': {\n\t\t\toverflowY: 'visible',\n\t\t\toverflow: 'visible',\n\t\t},\n\t},\n\tresizeHandler: {\n\t\tbackgroundColor: '#313133',\n\t\tborder: '2px solid #535353',\n\t\tcursor: 'ns-resize',\n\t\twidth: '50px',\n\t\theight: '12px',\n\t\tborderRadius: '8px',\n\t\tbackground: 'white',\n\t\tzIndex: 10,\n\t\toverflow: 'hidden',\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\n\t\t'&>span': {\n\t\t\tdisplay: 'inline-block',\n\t\t\toverflow: 'hidden',\n\t\t\tfontSize: '12px',\n\t\t\tfontWeight: 'bold',\n\t\t\tfontFamily: 'sans-serif',\n\t\t\ttextAlign: 'center',\n\t\t\tlineHeight: '12px',\n\t\t\tmarginTop: '-3px',\n\t\t\tletterSpacing: '1px',\n\t\t\tcolor: '#b3b3b3',\n\t\t\ttextShadow: '1px 0 1px rgb(90, 90, 90)',\n\t\t},\n\n\t\t'&>span::after': {\n\t\t\tcontent: '\"......\"',\n\t\t},\n\t},\n}))\n\nconst getExpandedFromLocalStorage = (title) => {\n\ttry {\n\t\treturn JSON.parse(\n      window.localStorage[`__REACT_WORKSPACE_SIDEBAR_EXPANDED_${title}`]\n    )\n\t} catch (e) {\n\t\treturn false\n\t}\n}\nconst setExpandedInLocalStorage = (title, expanded) => {\n\twindow.localStorage[`__REACT_WORKSPACE_SIDEBAR_EXPANDED_${title}`] =\n    JSON.stringify(expanded)\n}\n\nexport const SidebarBox = ({\n  icon,\n  title,\n  subTitle,\n  children,\n  noScroll = false,\n  expandedByDefault,\n}) => {\n\tconst classes = useStyles()\n\tconst content = (\n    <div\n      className={classnames(classes.expandedContent, noScroll && 'noScroll')}\n    >\n      {children}\n    </div>\n  )\n\n\tconst [expanded, changeExpandedState] = useState(\n    expandedByDefault === undefined\n      ? getExpandedFromLocalStorage(title)\n      : expandedByDefault\n  )\n\tconst changeExpanded = useCallback(\n    (expanded) => {\n\tchangeExpandedState(expanded)\n\tsetExpandedInLocalStorage(title, expanded)\n},\n    [changeExpandedState, title]\n  )\n\n\tconst toggleExpanded = useEventCallback(() => changeExpanded(!expanded))\n\tconst customIconMapping = useIconDictionary()\n\tconst TitleIcon = customIconMapping[title.toLowerCase()]\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t<div className={classes.header}>\n\t\t\t<div className=\"iconContainer\">\n\t\t\t\t{icon || <TitleIcon className={classes.titleIcon} />}\n\t\t\t</div>\n\t\t\t<Typography className={classes.title}>\n\t\t\t\t{title} <span>{subTitle}</span>\n\t\t\t</Typography>\n\t\t\t<IconButton onClick={toggleExpanded} className={classes.expandButton}>\n\t\t\t\t<ExpandIcon\n\t\t\t\tclassName={classnames('icon', expanded && 'expanded')}\n\t\t\t\t/>\n\t\t\t</IconButton>\n\t\t\t</div>\n\t\t\t{noScroll ? (\n\t\t\texpanded ? (\n\t\t\t\tcontent\n\t\t\t) : null\n\t\t\t) : (\n\t\t\t<Collapse in={expanded}>\n\t\t\t\t<ResizePanel direction=\"s\" style={{ height: 200 }} handleClass={classes.resizeHandler}>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"panel\"\n\t\t\t\t\tstyle={{ display: 'block', overflow: 'hidden', height: 500 }}\n\t\t\t\t>\n\t\t\t\t\t{content}\n\t\t\t\t</div>\n\t\t\t\t</ResizePanel>\n\t\t\t</Collapse>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default memo(\n  SidebarBox,\n  (prev, next) => prev.title === next.title && prev.children === next.children\n)\n"],"mappings":"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"}