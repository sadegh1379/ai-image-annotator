{"version":3,"file":"index.js","names":["_defineProperty","_objectSpread","_slicedToArray","React","createContext","useContext","useState","defaultSettings","showCrosshairs","showHighlightBox","wasdMode","SettingsContext","pullSettingsFromLocalStorage","window","localStorage","settings","i","length","key","startsWith","replace","JSON","parse","getItem","e","console","log","useSettings","SettingsProvider","_ref","children","_useState","_useState2","state","changeState","changeSetting","setting","value","setItem","concat","stringify","createElement","Provider"],"sources":["../../src/SettingsProvider/index.js"],"sourcesContent":["import _defineProperty from '@babel/runtime/helpers/esm/defineProperty'\nimport _objectSpread from '@babel/runtime/helpers/esm/objectSpread'\nimport _slicedToArray from '@babel/runtime/helpers/esm/slicedToArray'\nimport React, { createContext, useContext, useState } from 'react'\nvar defaultSettings = {\n\tshowCrosshairs: false,\n\tshowHighlightBox: true,\n\twasdMode: true\n}\nexport var SettingsContext = createContext(defaultSettings)\n\nvar pullSettingsFromLocalStorage = function pullSettingsFromLocalStorage() {\n\tif (!window || !window.localStorage) return {}\n\tvar settings = {}\n\n\tfor (var i = 0; i < window.localStorage.length; i++) {\n\t\tvar key = window.localStorage.key(i)\n\n\t\tif (key.startsWith('settings_')) {\n\t\t\ttry {\n\t\t\t\tsettings[key.replace('settings_', '')] = JSON.parse(window.localStorage.getItem(key))\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e)\n\t\t\t}\n\t\t}\n\t}\n\n\treturn settings\n}\n\nexport var useSettings = function useSettings() {\n\treturn useContext(SettingsContext)\n}\nexport var SettingsProvider = function SettingsProvider(_ref) {\n\tvar children = _ref.children\n\n\tvar _useState = useState(function () {\n\t\t\treturn pullSettingsFromLocalStorage()\n\t\t}),\n\t\t_useState2 = _slicedToArray(_useState, 2),\n\t\tstate = _useState2[0],\n\t\tchangeState = _useState2[1]\n\n\tvar changeSetting = function changeSetting(setting, value) {\n\t\tchangeState(_objectSpread({}, state, _defineProperty({}, setting, value)))\n\t\twindow.localStorage.setItem('settings_'.concat(setting), JSON.stringify(value))\n\t}\n\n\treturn React.createElement(SettingsContext.Provider, {\n\t\tvalue: _objectSpread({}, state, {\n\t\t\tchangeSetting: changeSetting\n\t\t})\n\t}, children)\n}\nexport default SettingsProvider"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,2CAA5B;AACA,OAAOC,aAAP,MAA0B,yCAA1B;AACA,OAAOC,cAAP,MAA2B,0CAA3B;AACA,OAAOC,KAAP,IAAgBC,aAAhB,EAA+BC,UAA/B,EAA2CC,QAA3C,QAA2D,OAA3D;AACA,IAAIC,eAAe,GAAG;EACrBC,cAAc,EAAE,KADK;EAErBC,gBAAgB,EAAE,IAFG;EAGrBC,QAAQ,EAAE;AAHW,CAAtB;AAKA,OAAO,IAAIC,eAAe,gBAAGP,aAAa,CAACG,eAAD,CAAnC;;AAEP,IAAIK,4BAA4B,GAAG,SAASA,4BAAT,GAAwC;EAC1E,IAAI,CAACC,MAAD,IAAW,CAACA,MAAM,CAACC,YAAvB,EAAqC,OAAO,EAAP;EACrC,IAAIC,QAAQ,GAAG,EAAf;;EAEA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,MAAM,CAACC,YAAP,CAAoBG,MAAxC,EAAgDD,CAAC,EAAjD,EAAqD;IACpD,IAAIE,GAAG,GAAGL,MAAM,CAACC,YAAP,CAAoBI,GAApB,CAAwBF,CAAxB,CAAV;;IAEA,IAAIE,GAAG,CAACC,UAAJ,CAAe,WAAf,CAAJ,EAAiC;MAChC,IAAI;QACHJ,QAAQ,CAACG,GAAG,CAACE,OAAJ,CAAY,WAAZ,EAAyB,EAAzB,CAAD,CAAR,GAAyCC,IAAI,CAACC,KAAL,CAAWT,MAAM,CAACC,YAAP,CAAoBS,OAApB,CAA4BL,GAA5B,CAAX,CAAzC;MACA,CAFD,CAEE,OAAOM,CAAP,EAAU;QACXC,OAAO,CAACC,GAAR,CAAYF,CAAZ;MACA;IACD;EACD;;EAED,OAAOT,QAAP;AACA,CAjBD;;AAmBA,OAAO,IAAIY,WAAW,GAAG,SAASA,WAAT,GAAuB;EAC/C,OAAOtB,UAAU,CAACM,eAAD,CAAjB;AACA,CAFM;AAGP,OAAO,IAAIiB,gBAAgB,GAAG,SAASA,gBAAT,CAA0BC,IAA1B,EAAgC;EAC7D,IAAIC,QAAQ,GAAGD,IAAI,CAACC,QAApB;;EAEA,IAAIC,SAAS,GAAGzB,QAAQ,CAAC,YAAY;IACnC,OAAOM,4BAA4B,EAAnC;EACA,CAFsB,CAAxB;EAAA,IAGCoB,UAAU,GAAG9B,cAAc,CAAC6B,SAAD,EAAY,CAAZ,CAH5B;EAAA,IAICE,KAAK,GAAGD,UAAU,CAAC,CAAD,CAJnB;EAAA,IAKCE,WAAW,GAAGF,UAAU,CAAC,CAAD,CALzB;;EAOA,IAAIG,aAAa,GAAG,SAASA,aAAT,CAAuBC,OAAvB,EAAgCC,KAAhC,EAAuC;IAC1DH,WAAW,CAACjC,aAAa,CAAC,EAAD,EAAKgC,KAAL,EAAYjC,eAAe,CAAC,EAAD,EAAKoC,OAAL,EAAcC,KAAd,CAA3B,CAAd,CAAX;IACAxB,MAAM,CAACC,YAAP,CAAoBwB,OAApB,CAA4B,YAAYC,MAAZ,CAAmBH,OAAnB,CAA5B,EAAyDf,IAAI,CAACmB,SAAL,CAAeH,KAAf,CAAzD;EACA,CAHD;;EAKA,oBAAOlC,KAAK,CAACsC,aAAN,CAAoB9B,eAAe,CAAC+B,QAApC,EAA8C;IACpDL,KAAK,EAAEpC,aAAa,CAAC,EAAD,EAAKgC,KAAL,EAAY;MAC/BE,aAAa,EAAEA;IADgB,CAAZ;EADgC,CAA9C,EAIJL,QAJI,CAAP;AAKA,CApBM;AAqBP,eAAeF,gBAAf"}